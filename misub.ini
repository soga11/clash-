;不要随意改变关键字,否则会导致出错
;ACL4SSR 在线规则配置 - 手动选择优化版

;================= 规则部分 =================

; 基础直连/解锁
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list

; 广告 / 垃圾规则
ruleset=🛑 广告拦截,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=🍃 应用净化,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list

; 香港流媒体(提前到前面,优先匹配)
ruleset=🇭🇰 香港流媒体,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/HWTV.list
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,mytvsuper.com
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,tvb.com
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,tvbanywhere.com
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,tvbusa.com
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,omtrdc.net
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,akamaihd.net
ruleset=🇭🇰 香港流媒体,[]DOMAIN-SUFFIX,conviva.com
ruleset=🇭🇰 香港流媒体,[]DOMAIN-KEYWORD,mytvsuper
ruleset=🇭🇰 香港流媒体,[]DOMAIN-KEYWORD,tvb
ruleset=🇭🇰 香港流媒体,[]DOMAIN-KEYWORD,encoretvb

; YouTube
ruleset=📹 油管视频,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list

; Netflix
ruleset=🎥 奈飞视频,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list

; Telegram
ruleset=📲 电报消息,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list

; TikTok
ruleset=🎵 TikTok,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/TikTok.list

; Spotify (新增)
ruleset=🎵 Spotify,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Spotify.list

; ChatGPT / AI
ruleset=🤖 ChatGPT,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAI.list
ruleset=🤖 ChatGPT,[]DOMAIN-SUFFIX,anthropic.com
ruleset=🤖 ChatGPT,[]DOMAIN-SUFFIX,claude.ai
ruleset=🤖 ChatGPT,[]DOMAIN-SUFFIX,perplexity.ai
ruleset=🤖 ChatGPT,[]DOMAIN-SUFFIX,poe.com
ruleset=🤖 ChatGPT,[]DOMAIN-SUFFIX,character.ai
ruleset=🤖 ChatGPT,[]DOMAIN-KEYWORD,claude
ruleset=🤖 ChatGPT,[]DOMAIN-KEYWORD,gemini

; 美国流媒体服务 (新增)
ruleset=🇺🇸 美国媒体,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/DisneyPlus.list
ruleset=🇺🇸 美国媒体,[]DOMAIN-SUFFIX,hulu.com
ruleset=🇺🇸 美国媒体,[]DOMAIN-SUFFIX,hbo.com
ruleset=🇺🇸 美国媒体,[]DOMAIN-SUFFIX,hbomax.com
ruleset=🇺🇸 美国媒体,[]DOMAIN-SUFFIX,max.com
ruleset=🇺🇸 美国媒体,[]DOMAIN-SUFFIX,peacocktv.com
ruleset=🇺🇸 美国媒体,[]DOMAIN-SUFFIX,paramountplus.com
ruleset=🇺🇸 美国媒体,[]DOMAIN-KEYWORD,disneyplus
ruleset=🇺🇸 美国媒体,[]DOMAIN-KEYWORD,hulu

; 苹果服务
ruleset=🍎 苹果服务,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list

; 微软服务 (新增)
ruleset=Ⓜ️ 微软服务,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list

; 游戏平台 (新增)
ruleset=🎮 游戏平台,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list
ruleset=🎮 游戏平台,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Epic.list
ruleset=🎮 游戏平台,[]DOMAIN-SUFFIX,steampowered.com
ruleset=🎮 游戏平台,[]DOMAIN-SUFFIX,steamcommunity.com
ruleset=🎮 游戏平台,[]DOMAIN-SUFFIX,epicgames.com

; 其他翻墙网站 / GFW 列表
ruleset=🚀 节点选择,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list

; 大陆直连相关(放在后面,避免误杀)
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list

; 大陆 IP 直连
ruleset=🎯 全球直连,[]GEOIP,CN

; 兜底:漏网之鱼
ruleset=🐟 漏网之鱼,[]FINAL


;================= 策略组部分 =================

; 总节点池 - 手动选择，优先顺序：香港 > 台湾 > 新加坡 > 美国
custom_proxy_group=🚀 节点选择`select`[]🇭🇰 AWS香港负载`[]🇭🇰 AWS台湾负载`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`.*

; 自动选择(延迟最低) - 作为备选
custom_proxy_group=♻️ 自动选择`url-test`.*`http://www.gstatic.com/generate_204`300,,50

; 故障转移组 - 作为备选
custom_proxy_group=🔯 故障转移`fallback`.*`http://www.gstatic.com/generate_204`300,,50

;========== 地区负载均衡组 (核心) ==========

; AWS 香港 hy2 负载均衡组 (10个节点)
custom_proxy_group=🇭🇰 AWS香港负载`load-balance`(aws香港hy2.*|AWS.*香港.*hy2|AWS.*HK.*hy2)`http://www.gstatic.com/generate_204`180,10,50

; AWS 台湾 hy2 负载均衡组 (10个节点)
custom_proxy_group=🇭🇰 AWS台湾负载`load-balance`(台湾hy2.*|AWS.*台湾.*hy2|AWS.*TW.*hy2|臺灣.*hy2)`http://www.gstatic.com/generate_204`180,10,50

; 新加坡负载均衡组 (10个节点) - 优化正则匹配
custom_proxy_group=🇸🇬 新加坡负载`load-balance`(新加坡.*|狮城.*|坡.*|SG.*|Singapore.*|SGP.*|🇸🇬.*|.*新加坡|.*SG|.*Singapore)`http://www.gstatic.com/generate_204`180,10,50

; 美国负载均衡组 (10个节点) - 新增
custom_proxy_group=🇺🇸 美国负载`load-balance`(美国.*|美.*|US.*|USA.*|United States.*|America.*|🇺🇸.*|.*美国|.*US|.*USA)`http://www.gstatic.com/generate_204`180,10,50

; 香港电视负载均衡组 (10个节点)
custom_proxy_group=🇭🇰 香港负载`load-balance`(香港电视|港.*电视)`http://www.gstatic.com/generate_204`180,10,50

; 澳门 debee 优选负载均衡组 (10个节点)
custom_proxy_group=🇲🇴 澳门负载`load-balance`(澳门.*debee优选|澳門.*debee优选|澳门.*debee|澳門.*debee|Macau.*debee|MO.*debee)`http://www.gstatic.com/generate_204`180,10,50

;========== 特定服务策略组 ==========

; 香港流媒体 - 香港电视负载均衡优先
custom_proxy_group=🇭🇰 香港流媒体`select`[]🇭🇰 香港负载`(香港电视)`(港|HK|Hong Kong|🇭🇰)`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`.*

; YouTube - 澳门 debee 优选负载均衡优先
custom_proxy_group=📹 油管视频`select`[]🇲🇴 澳门负载`(澳门|澳門|Macau|Macao|MO|🇲🇴)`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`[]DIRECT`.*

; Netflix - 新加坡和美国负载优先
custom_proxy_group=🎥 奈飞视频`select`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`(NF|奈飞|解锁|Netflix|NETFLIX|Media)`.*

; 美国流媒体 - 美国负载优先 (新增)
custom_proxy_group=🇺🇸 美国媒体`select`[]🇺🇸 美国负载`(美国|美|US|USA|United States|America|🇺🇸)`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`.*

; TikTok - 新加坡和美国负载优先
custom_proxy_group=🎵 TikTok`select`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`.*

; Spotify - 新加坡和美国负载优先 (新增)
custom_proxy_group=🎵 Spotify`select`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`[]DIRECT`.*

; ChatGPT - 新加坡和美国负载优先
custom_proxy_group=🤖 ChatGPT`select`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`.*

; Telegram - 新加坡负载优先
custom_proxy_group=📲 电报消息`select`[]🇸🇬 新加坡负载`(新加坡|狮城|坡|SG|Singapore|🇸🇬)`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`.*

; 游戏平台 - 可选直连或代理 (新增)
custom_proxy_group=🎮 游戏平台`select`[]DIRECT`[]🇸🇬 新加坡负载`[]🇺🇸 美国负载`[]🚀 节点选择`.*

; 苹果服务 - 可选直连或代理
custom_proxy_group=🍎 苹果服务`select`[]DIRECT`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`.*

; 微软服务 - 可选直连或代理 (新增)
custom_proxy_group=Ⓜ️ 微软服务`select`[]DIRECT`[]🇺🇸 美国负载`[]🚀 节点选择`[]♻️ 自动选择`.*

; 广告拦截 / 应用净化
custom_proxy_group=🛑 广告拦截`select`[]REJECT`[]DIRECT
custom_proxy_group=🍃 应用净化`select`[]REJECT`[]DIRECT

; 全球直连
custom_proxy_group=🎯 全球直连`select`[]DIRECT`[]🚀 节点选择

; 漏网之鱼 - 手动选择优先
custom_proxy_group=🐟 漏网之鱼`select`[]🚀 节点选择`[]♻️ 自动选择`[]🔯 故障转移`[]DIRECT`.*


;================= 规则生成器设置 =================

enable_rule_generator=true
overwrite_original_rules=true
